{"ast":null,"code":"var _jsxFileName = \"/Users/robertobutinar/codebase/data_entry_app/frontend/src/pages/TableView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useMsal } from '@azure/msal-react';\nimport { toast } from 'react-hot-toast';\nimport { useReactTable, getCoreRowModel, flexRender, createColumnHelper } from '@tanstack/react-table';\nimport { ChevronLeftIcon, MagnifyingGlassIcon, PencilIcon, TrashIcon, PlusIcon, CheckIcon, XMarkIcon } from '@heroicons/react/24/outline';\nimport { apiService } from '../services/apiService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TableView = () => {\n  _s();\n  const {\n    tableName\n  } = useParams();\n  const {\n    instance,\n    accounts\n  } = useMsal();\n  const navigate = useNavigate();\n  const [data, setData] = useState([]);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    pageSize: 20,\n    totalPages: 0,\n    total: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [editingCell, setEditingCell] = useState(null);\n  const [editValue, setEditValue] = useState('');\n  const [filterColumn, setFilterColumn] = useState('');\n  const [filterValue, setFilterValue] = useState('');\n  const [columns, setColumns] = useState([]);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newRowData, setNewRowData] = useState({});\n  const [editMode, setEditMode] = useState(false);\n\n  // Fetch table data\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const params = {\n        page: pagination.page,\n        page_size: pagination.pageSize\n      };\n      if (filterColumn && filterValue) {\n        params.filter_column = filterColumn;\n        params.filter_value = filterValue;\n      }\n      const response = await apiService.getTableData(instance, accounts[0], tableName, params);\n      setData(response.data);\n      setPagination({\n        ...pagination,\n        total: response.total,\n        totalPages: response.total_pages\n      });\n\n      // Dynamically create columns from the first row\n      if (response.data.length > 0) {\n        const firstRow = response.data[0];\n        const columnHelper = createColumnHelper();\n\n        // Create columns for data fields\n        const tableColumns = Object.keys(firstRow).map(key => {\n          return columnHelper.accessor(key, {\n            header: key,\n            cell: info => {\n              const value = info.getValue();\n              const rowIndex = info.row.index;\n              const columnId = info.column.id;\n              const isEditing = editingCell && editingCell.rowIndex === rowIndex && editingCell.columnId === columnId;\n              if (isEditing) {\n                return /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editValue,\n                  onChange: e => setEditValue(e.target.value),\n                  onBlur: handleCellUpdate,\n                  onKeyDown: e => {\n                    if (e.key === 'Enter') {\n                      handleCellUpdate();\n                    } else if (e.key === 'Escape') {\n                      setEditingCell(null);\n                    }\n                  },\n                  className: \"w-full p-1 border border-primary-300 focus:outline-none focus:ring-1 focus:ring-primary-500\",\n                  autoFocus: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this);\n              }\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-1 ${editMode ? 'cursor-pointer hover:bg-gray-100' : ''}`,\n                onClick: () => editMode && handleCellClick(value, rowIndex, columnId),\n                children: value !== null && value !== undefined ? value.toString() : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this);\n            }\n          });\n        });\n\n        // Add actions column\n        tableColumns.push(columnHelper.display({\n          id: 'actions',\n          header: 'Actions',\n          cell: info => {\n            const rowIndex = info.row.index;\n            const rowData = data[rowIndex];\n            const rowId = rowData.id;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setEditMode(!editMode),\n                className: \"p-1 text-blue-600 hover:text-blue-800\",\n                title: editMode ? \"Finish Editing\" : \"Edit Row\",\n                children: editMode ? /*#__PURE__*/_jsxDEV(CheckIcon, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 33\n                }, this) : /*#__PURE__*/_jsxDEV(PencilIcon, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 69\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteRow(rowId),\n                className: \"p-1 text-red-600 hover:text-red-800\",\n                title: \"Delete Row\",\n                children: /*#__PURE__*/_jsxDEV(TrashIcon, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this);\n          }\n        }));\n        setColumns(tableColumns);\n      }\n    } catch (err) {\n      console.error('Error fetching table data:', err);\n      setError(err.message);\n      toast.error(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n  }, [tableName, pagination.page, pagination.pageSize, instance, accounts]);\n\n  // Handle cell click for editing\n  const handleCellClick = (value, rowIndex, columnId) => {\n    // Don't allow editing the ID column\n    if (columnId === 'id') return;\n    setEditingCell({\n      rowIndex,\n      columnId\n    });\n    setEditValue(value !== null && value !== undefined ? value.toString() : '');\n  };\n\n  // Handle row deletion\n  const handleDeleteRow = async rowId => {\n    if (!window.confirm('Are you sure you want to delete this row? This action cannot be undone.')) {\n      return;\n    }\n    try {\n      toast.loading('Deleting row...');\n      await apiService.deleteRow(instance, accounts[0], tableName, rowId);\n\n      // Update local data\n      const newData = data.filter(row => row.id !== rowId);\n      setData(newData);\n      toast.dismiss();\n      toast.success('Row deleted successfully');\n    } catch (err) {\n      console.error('Error deleting row:', err);\n      toast.dismiss();\n      toast.error(`Failed to delete row: ${err.message}`);\n    }\n  };\n\n  // Handle adding a new row\n  const handleAddRow = async () => {\n    try {\n      toast.loading('Adding new row...');\n      const response = await apiService.insertRow(instance, accounts[0], tableName, newRowData);\n\n      // Refresh data to show the new row\n      fetchData();\n\n      // Reset form\n      setShowAddForm(false);\n      setNewRowData({});\n      toast.dismiss();\n      toast.success('New row added successfully');\n    } catch (err) {\n      console.error('Error adding row:', err);\n      toast.dismiss();\n      toast.error(`Failed to add row: ${err.message}`);\n    }\n  };\n\n  // Handle change in new row form\n  const handleNewRowChange = (columnId, value) => {\n    setNewRowData(prev => ({\n      ...prev,\n      [columnId]: value\n    }));\n  };\n\n  // Handle cell update\n  const handleCellUpdate = async () => {\n    if (!editingCell) return;\n    const {\n      rowIndex,\n      columnId\n    } = editingCell;\n    const rowData = data[rowIndex];\n    const rowId = rowData.id;\n\n    // If value hasn't changed, just exit edit mode\n    if (rowData[columnId].toString() === editValue) {\n      setEditingCell(null);\n      return;\n    }\n\n    // Prepare update data\n    const updates = {\n      [columnId]: editValue\n    };\n    try {\n      toast.loading('Updating data...');\n      await apiService.updateRow(instance, accounts[0], tableName, rowId, updates);\n\n      // Update local data\n      const newData = [...data];\n      newData[rowIndex] = {\n        ...newData[rowIndex],\n        [columnId]: editValue\n      };\n      setData(newData);\n      toast.dismiss();\n      toast.success('Data updated successfully');\n    } catch (err) {\n      console.error('Error updating cell:', err);\n      toast.dismiss();\n      toast.error(`Failed to update data: ${err.message}`);\n    } finally {\n      setEditingCell(null);\n    }\n  };\n\n  // Handle filter submission\n  const handleFilterSubmit = e => {\n    e.preventDefault();\n    fetchData();\n  };\n\n  // Handle filter reset\n  const handleFilterReset = () => {\n    setFilterColumn('');\n    setFilterValue('');\n    // Reset to first page when clearing filters\n    setPagination({\n      ...pagination,\n      page: 1\n    });\n    // Fetch data without filters\n    fetchData();\n  };\n\n  // Create table instance\n  const table = useReactTable({\n    data,\n    columns,\n    getCoreRowModel: getCoreRowModel()\n  });\n  if (error && error.includes('access')) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow overflow-hidden sm:rounded-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/'),\n          className: \"flex items-center text-primary-600 hover:text-primary-900\",\n          children: [/*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n            className: \"h-5 w-5 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), \"Back to Tables\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-xl mb-4\",\n          children: \"Access Denied\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"You don't have permission to access this table.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white shadow overflow-hidden sm:rounded-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-4 py-5 sm:px-6 flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/'),\n          className: \"flex items-center text-primary-600 hover:text-primary-900 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n            className: \"h-5 w-5 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this), \"Back to Tables\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg leading-6 font-medium text-gray-900\",\n          children: tableName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleFilterSubmit,\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filterColumn,\n            onChange: e => setFilterColumn(e.target.value),\n            className: \"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select column\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), columns.map(column => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: column.id,\n              children: column.id\n            }, column.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: filterValue,\n            onChange: e => setFilterValue(e.target.value),\n            placeholder: \"Filter value...\",\n            className: \"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n            children: /*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n              className: \"h-5 w-5 text-gray-400\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n          children: \"Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleFilterReset,\n          className: \"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: table.getHeaderGroups().map(headerGroup => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: headerGroup.headers.map(header => /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: flexRender(header.column.columnDef.header, header.getContext())\n              }, header.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 23\n              }, this))\n            }, headerGroup.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: table.getRowModel().rows.map(row => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: row.getVisibleCells().map(cell => /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                children: flexRender(cell.column.columnDef.cell, cell.getContext())\n              }, cell.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 23\n              }, this))\n            }, row.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex justify-between sm:hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPagination({\n              ...pagination,\n              page: Math.max(1, pagination.page - 1)\n            }),\n            disabled: pagination.page === 1,\n            className: `relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 ${pagination.page === 1 ? 'opacity-50 cursor-not-allowed' : ''}`,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPagination({\n              ...pagination,\n              page: Math.min(pagination.totalPages, pagination.page + 1)\n            }),\n            disabled: pagination.page === pagination.totalPages,\n            className: `ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 ${pagination.page === pagination.totalPages ? 'opacity-50 cursor-not-allowed' : ''}`,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-700\",\n              children: [\"Showing \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: (pagination.page - 1) * pagination.pageSize + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 27\n              }, this), \" to\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: Math.min(pagination.page * pagination.pageSize, pagination.total)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this), ' ', \"of \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: pagination.total\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 22\n              }, this), \" results\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\",\n              \"aria-label\": \"Pagination\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setPagination({\n                  ...pagination,\n                  page: Math.max(1, pagination.page - 1)\n                }),\n                disabled: pagination.page === 1,\n                className: `relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 ${pagination.page === 1 ? 'opacity-50 cursor-not-allowed' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: \"Previous\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n                  className: \"h-5 w-5\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 19\n              }, this), [...Array(pagination.totalPages).keys()].map(pageIndex => {\n                const pageNumber = pageIndex + 1;\n                // Show only a limited number of page buttons\n                if (pageNumber === 1 || pageNumber === pagination.totalPages || pageNumber >= pagination.page - 1 && pageNumber <= pagination.page + 1) {\n                  return /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setPagination({\n                      ...pagination,\n                      page: pageNumber\n                    }),\n                    className: `relative inline-flex items-center px-4 py-2 border text-sm font-medium ${pagination.page === pageNumber ? 'z-10 bg-primary-50 border-primary-500 text-primary-600' : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'}`,\n                    children: pageNumber\n                  }, pageNumber, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 25\n                  }, this);\n                } else if (pageNumber === pagination.page - 2 && pageNumber > 1 || pageNumber === pagination.page + 2 && pageNumber < pagination.totalPages) {\n                  return /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700\",\n                    children: \"...\"\n                  }, pageNumber, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 25\n                  }, this);\n                }\n                return null;\n              }), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setPagination({\n                  ...pagination,\n                  page: Math.min(pagination.totalPages, pagination.page + 1)\n                }),\n                disabled: pagination.page === pagination.totalPages,\n                className: `relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 ${pagination.page === pagination.totalPages ? 'opacity-50 cursor-not-allowed' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: \"Next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n                  className: \"h-5 w-5 transform rotate-180\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 324,\n    columnNumber: 5\n  }, this);\n};\n_s(TableView, \"/pvs2yuNeKJUZdWd05rBM7oxPEg=\", false, function () {\n  return [useParams, useMsal, useNavigate, useReactTable];\n});\n_c = TableView;\nexport default TableView;\nvar _c;\n$RefreshReg$(_c, \"TableView\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useParams","useNavigate","useMsal","toast","useReactTable","getCoreRowModel","flexRender","createColumnHelper","ChevronLeftIcon","MagnifyingGlassIcon","PencilIcon","TrashIcon","PlusIcon","CheckIcon","XMarkIcon","apiService","jsxDEV","_jsxDEV","Fragment","_Fragment","TableView","_s","tableName","instance","accounts","navigate","data","setData","pagination","setPagination","page","pageSize","totalPages","total","loading","setLoading","error","setError","editingCell","setEditingCell","editValue","setEditValue","filterColumn","setFilterColumn","filterValue","setFilterValue","columns","setColumns","showAddForm","setShowAddForm","newRowData","setNewRowData","editMode","setEditMode","fetchData","params","page_size","filter_column","filter_value","response","getTableData","total_pages","length","firstRow","columnHelper","tableColumns","Object","keys","map","key","accessor","header","cell","info","value","getValue","rowIndex","row","index","columnId","column","id","isEditing","type","onChange","e","target","onBlur","handleCellUpdate","onKeyDown","className","autoFocus","fileName","_jsxFileName","lineNumber","columnNumber","onClick","handleCellClick","children","undefined","toString","push","display","rowData","rowId","title","handleDeleteRow","err","console","message","window","confirm","deleteRow","newData","filter","dismiss","success","handleAddRow","insertRow","handleNewRowChange","prev","updates","updateRow","handleFilterSubmit","preventDefault","handleFilterReset","table","includes","onSubmit","placeholder","getHeaderGroups","headerGroup","headers","scope","columnDef","getContext","getRowModel","rows","getVisibleCells","Math","max","disabled","min","Array","pageIndex","pageNumber","_c","$RefreshReg$"],"sources":["/Users/robertobutinar/codebase/data_entry_app/frontend/src/pages/TableView.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useMsal } from '@azure/msal-react';\nimport { toast } from 'react-hot-toast';\nimport {\n  useReactTable,\n  getCoreRowModel,\n  flexRender,\n  createColumnHelper,\n} from '@tanstack/react-table';\nimport { \n  ChevronLeftIcon, \n  MagnifyingGlassIcon,\n  PencilIcon,\n  TrashIcon,\n  PlusIcon,\n  CheckIcon,\n  XMarkIcon\n} from '@heroicons/react/24/outline';\nimport { apiService } from '../services/apiService';\n\nconst TableView = () => {\n  const { tableName } = useParams();\n  const { instance, accounts } = useMsal();\n  const navigate = useNavigate();\n  \n  const [data, setData] = useState([]);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    pageSize: 20,\n    totalPages: 0,\n    total: 0,\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [editingCell, setEditingCell] = useState(null);\n  const [editValue, setEditValue] = useState('');\n  const [filterColumn, setFilterColumn] = useState('');\n  const [filterValue, setFilterValue] = useState('');\n  const [columns, setColumns] = useState([]);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newRowData, setNewRowData] = useState({});\n  const [editMode, setEditMode] = useState(false);\n  \n  // Fetch table data\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const params = {\n        page: pagination.page,\n        page_size: pagination.pageSize,\n      };\n      \n      if (filterColumn && filterValue) {\n        params.filter_column = filterColumn;\n        params.filter_value = filterValue;\n      }\n      \n      const response = await apiService.getTableData(\n        instance,\n        accounts[0],\n        tableName,\n        params\n      );\n      \n      setData(response.data);\n      setPagination({\n        ...pagination,\n        total: response.total,\n        totalPages: response.total_pages,\n      });\n      \n      // Dynamically create columns from the first row\n      if (response.data.length > 0) {\n        const firstRow = response.data[0];\n        const columnHelper = createColumnHelper();\n        \n        // Create columns for data fields\n        const tableColumns = Object.keys(firstRow).map((key) => {\n          return columnHelper.accessor(key, {\n            header: key,\n            cell: (info) => {\n              const value = info.getValue();\n              const rowIndex = info.row.index;\n              const columnId = info.column.id;\n              \n              const isEditing = \n                editingCell && \n                editingCell.rowIndex === rowIndex && \n                editingCell.columnId === columnId;\n              \n              if (isEditing) {\n                return (\n                  <input\n                    type=\"text\"\n                    value={editValue}\n                    onChange={(e) => setEditValue(e.target.value)}\n                    onBlur={handleCellUpdate}\n                    onKeyDown={(e) => {\n                      if (e.key === 'Enter') {\n                        handleCellUpdate();\n                      } else if (e.key === 'Escape') {\n                        setEditingCell(null);\n                      }\n                    }}\n                    className=\"w-full p-1 border border-primary-300 focus:outline-none focus:ring-1 focus:ring-primary-500\"\n                    autoFocus\n                  />\n                );\n              }\n              \n              return (\n                <div\n                  className={`p-1 ${editMode ? 'cursor-pointer hover:bg-gray-100' : ''}`}\n                  onClick={() => editMode && handleCellClick(value, rowIndex, columnId)}\n                >\n                  {value !== null && value !== undefined ? value.toString() : ''}\n                </div>\n              );\n            },\n          });\n        });\n        \n        // Add actions column\n        tableColumns.push(\n          columnHelper.display({\n            id: 'actions',\n            header: 'Actions',\n            cell: (info) => {\n              const rowIndex = info.row.index;\n              const rowData = data[rowIndex];\n              const rowId = rowData.id;\n              \n              return (\n                <div className=\"flex items-center space-x-2\">\n                  <button\n                    onClick={() => setEditMode(!editMode)}\n                    className=\"p-1 text-blue-600 hover:text-blue-800\"\n                    title={editMode ? \"Finish Editing\" : \"Edit Row\"}\n                  >\n                    {editMode ? <CheckIcon className=\"h-5 w-5\" /> : <PencilIcon className=\"h-5 w-5\" />}\n                  </button>\n                  <button\n                    onClick={() => handleDeleteRow(rowId)}\n                    className=\"p-1 text-red-600 hover:text-red-800\"\n                    title=\"Delete Row\"\n                  >\n                    <TrashIcon className=\"h-5 w-5\" />\n                  </button>\n                </div>\n              );\n            },\n          })\n        );\n        \n        setColumns(tableColumns);\n      }\n    } catch (err) {\n      console.error('Error fetching table data:', err);\n      setError(err.message);\n      toast.error(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  useEffect(() => {\n    fetchData();\n  }, [tableName, pagination.page, pagination.pageSize, instance, accounts]);\n  \n  // Handle cell click for editing\n  const handleCellClick = (value, rowIndex, columnId) => {\n    // Don't allow editing the ID column\n    if (columnId === 'id') return;\n    \n    setEditingCell({ rowIndex, columnId });\n    setEditValue(value !== null && value !== undefined ? value.toString() : '');\n  };\n  \n  // Handle row deletion\n  const handleDeleteRow = async (rowId) => {\n    if (!window.confirm('Are you sure you want to delete this row? This action cannot be undone.')) {\n      return;\n    }\n    \n    try {\n      toast.loading('Deleting row...');\n      await apiService.deleteRow(instance, accounts[0], tableName, rowId);\n      \n      // Update local data\n      const newData = data.filter(row => row.id !== rowId);\n      setData(newData);\n      \n      toast.dismiss();\n      toast.success('Row deleted successfully');\n    } catch (err) {\n      console.error('Error deleting row:', err);\n      toast.dismiss();\n      toast.error(`Failed to delete row: ${err.message}`);\n    }\n  };\n  \n  // Handle adding a new row\n  const handleAddRow = async () => {\n    try {\n      toast.loading('Adding new row...');\n      const response = await apiService.insertRow(instance, accounts[0], tableName, newRowData);\n      \n      // Refresh data to show the new row\n      fetchData();\n      \n      // Reset form\n      setShowAddForm(false);\n      setNewRowData({});\n      \n      toast.dismiss();\n      toast.success('New row added successfully');\n    } catch (err) {\n      console.error('Error adding row:', err);\n      toast.dismiss();\n      toast.error(`Failed to add row: ${err.message}`);\n    }\n  };\n  \n  // Handle change in new row form\n  const handleNewRowChange = (columnId, value) => {\n    setNewRowData(prev => ({\n      ...prev,\n      [columnId]: value\n    }));\n  };\n  \n  // Handle cell update\n  const handleCellUpdate = async () => {\n    if (!editingCell) return;\n    \n    const { rowIndex, columnId } = editingCell;\n    const rowData = data[rowIndex];\n    const rowId = rowData.id;\n    \n    // If value hasn't changed, just exit edit mode\n    if (rowData[columnId].toString() === editValue) {\n      setEditingCell(null);\n      return;\n    }\n    \n    // Prepare update data\n    const updates = {\n      [columnId]: editValue\n    };\n    \n    try {\n      toast.loading('Updating data...');\n      await apiService.updateRow(instance, accounts[0], tableName, rowId, updates);\n      \n      // Update local data\n      const newData = [...data];\n      newData[rowIndex] = {\n        ...newData[rowIndex],\n        [columnId]: editValue\n      };\n      setData(newData);\n      \n      toast.dismiss();\n      toast.success('Data updated successfully');\n    } catch (err) {\n      console.error('Error updating cell:', err);\n      toast.dismiss();\n      toast.error(`Failed to update data: ${err.message}`);\n    } finally {\n      setEditingCell(null);\n    }\n  };\n  \n  // Handle filter submission\n  const handleFilterSubmit = (e) => {\n    e.preventDefault();\n    fetchData();\n  };\n  \n  // Handle filter reset\n  const handleFilterReset = () => {\n    setFilterColumn('');\n    setFilterValue('');\n    // Reset to first page when clearing filters\n    setPagination({\n      ...pagination,\n      page: 1\n    });\n    // Fetch data without filters\n    fetchData();\n  };\n  \n  // Create table instance\n  const table = useReactTable({\n    data,\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n  });\n  \n  if (error && error.includes('access')) {\n    return (\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-lg p-6\">\n        <div className=\"flex items-center mb-6\">\n          <button\n            onClick={() => navigate('/')}\n            className=\"flex items-center text-primary-600 hover:text-primary-900\"\n          >\n            <ChevronLeftIcon className=\"h-5 w-5 mr-1\" />\n            Back to Tables\n          </button>\n        </div>\n        <div className=\"text-center py-12\">\n          <div className=\"text-red-500 text-xl mb-4\">Access Denied</div>\n          <p className=\"text-gray-500\">\n            You don't have permission to access this table.\n          </p>\n        </div>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n      <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n        <div>\n          <button\n            onClick={() => navigate('/')}\n            className=\"flex items-center text-primary-600 hover:text-primary-900 mb-2\"\n          >\n            <ChevronLeftIcon className=\"h-5 w-5 mr-1\" />\n            Back to Tables\n          </button>\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900\">{tableName}</h3>\n        </div>\n        \n        {/* Filter form */}\n        <form onSubmit={handleFilterSubmit} className=\"flex items-center space-x-2\">\n          <div className=\"flex items-center\">\n            <select\n              value={filterColumn}\n              onChange={(e) => setFilterColumn(e.target.value)}\n              className=\"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md\"\n            >\n              <option value=\"\">Select column</option>\n              {columns.map((column) => (\n                <option key={column.id} value={column.id}>\n                  {column.id}\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"relative flex items-center\">\n            <input\n              type=\"text\"\n              value={filterValue}\n              onChange={(e) => setFilterValue(e.target.value)}\n              placeholder=\"Filter value...\"\n              className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\n            />\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n            </div>\n          </div>\n          <button\n            type=\"submit\"\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n          >\n            Filter\n          </button>\n          <button\n            type=\"button\"\n            onClick={handleFilterReset}\n            className=\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n          >\n            Reset\n          </button>\n        </form>\n      </div>\n      \n      {loading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500\"></div>\n        </div>\n      ) : (\n        <>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                {table.getHeaderGroups().map((headerGroup) => (\n                  <tr key={headerGroup.id}>\n                    {headerGroup.headers.map((header) => (\n                      <th\n                        key={header.id}\n                        scope=\"col\"\n                        className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                      >\n                        {flexRender(\n                          header.column.columnDef.header,\n                          header.getContext()\n                        )}\n                      </th>\n                    ))}\n                  </tr>\n                ))}\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {table.getRowModel().rows.map((row) => (\n                  <tr key={row.id}>\n                    {row.getVisibleCells().map((cell) => (\n                      <td\n                        key={cell.id}\n                        className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\"\n                      >\n                        {flexRender(\n                          cell.column.columnDef.cell,\n                          cell.getContext()\n                        )}\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n          \n          {/* Pagination */}\n          <div className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n            <div className=\"flex-1 flex justify-between sm:hidden\">\n              <button\n                onClick={() => setPagination({...pagination, page: Math.max(1, pagination.page - 1)})}\n                disabled={pagination.page === 1}\n                className={`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 ${\n                  pagination.page === 1 ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                Previous\n              </button>\n              <button\n                onClick={() => setPagination({...pagination, page: Math.min(pagination.totalPages, pagination.page + 1)})}\n                disabled={pagination.page === pagination.totalPages}\n                className={`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 ${\n                  pagination.page === pagination.totalPages ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                Next\n              </button>\n            </div>\n            <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-700\">\n                  Showing <span className=\"font-medium\">{(pagination.page - 1) * pagination.pageSize + 1}</span> to{' '}\n                  <span className=\"font-medium\">\n                    {Math.min(pagination.page * pagination.pageSize, pagination.total)}\n                  </span>{' '}\n                  of <span className=\"font-medium\">{pagination.total}</span> results\n                </p>\n              </div>\n              <div>\n                <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\n                  <button\n                    onClick={() => setPagination({...pagination, page: Math.max(1, pagination.page - 1)})}\n                    disabled={pagination.page === 1}\n                    className={`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 ${\n                      pagination.page === 1 ? 'opacity-50 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    <span className=\"sr-only\">Previous</span>\n                    <ChevronLeftIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                  </button>\n                  \n                  {/* Page numbers */}\n                  {[...Array(pagination.totalPages).keys()].map((pageIndex) => {\n                    const pageNumber = pageIndex + 1;\n                    // Show only a limited number of page buttons\n                    if (\n                      pageNumber === 1 ||\n                      pageNumber === pagination.totalPages ||\n                      (pageNumber >= pagination.page - 1 && pageNumber <= pagination.page + 1)\n                    ) {\n                      return (\n                        <button\n                          key={pageNumber}\n                          onClick={() => setPagination({...pagination, page: pageNumber})}\n                          className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\n                            pagination.page === pageNumber\n                              ? 'z-10 bg-primary-50 border-primary-500 text-primary-600'\n                              : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\n                          }`}\n                        >\n                          {pageNumber}\n                        </button>\n                      );\n                    } else if (\n                      (pageNumber === pagination.page - 2 && pageNumber > 1) ||\n                      (pageNumber === pagination.page + 2 && pageNumber < pagination.totalPages)\n                    ) {\n                      return (\n                        <span\n                          key={pageNumber}\n                          className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700\"\n                        >\n                          ...\n                        </span>\n                      );\n                    }\n                    return null;\n                  })}\n                  \n                  <button\n                    onClick={() => setPagination({...pagination, page: Math.min(pagination.totalPages, pagination.page + 1)})}\n                    disabled={pagination.page === pagination.totalPages}\n                    className={`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 ${\n                      pagination.page === pagination.totalPages ? 'opacity-50 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    <span className=\"sr-only\">Next</span>\n                    <ChevronLeftIcon className=\"h-5 w-5 transform rotate-180\" aria-hidden=\"true\" />\n                  </button>\n                </nav>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default TableView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}